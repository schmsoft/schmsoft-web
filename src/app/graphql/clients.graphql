fragment OwnerFragment on OwnerType {
  id
  created
  modified
  roleDefinition
  user {
    name
    firstName
    lastName
    email
  }
  business {
    id
  }
  identificationMethod
  identificationNumber
  phoneNumber
  numberOfDependants
  gender
  passportPhoto
}

fragment BusinessFragment on BusinessType {
  id
  created
  modified
  name
  description
  businessType
  category
  registrationNumber
  status
  yearsInCurrentLocation
  operatingCapitalCurrency
  operatingCapital
  dailySalesCurrency
  dailySales
  ownerSet {
    user {
      name
      email
    }
  }
}

query Clients {
  businessOwners {
    ...OwnerFragment
  }
}

query Business($id: ID!) {
  business(id: $id) {
    ...BusinessFragment
  }
}

mutation RegisterClient(
  $business: BusinessInput!
  $owner: OwnerInput!
  $user: UserInput!
) {
  addBusiness(business: $business, owner: $owner, user: $user) {
    businessOwner {
      ...OwnerFragment
    }
  }
}
